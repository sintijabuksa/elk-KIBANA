//create spaces api
POST kbn:api/spaces/space
{
  "id": "azure",
  "name": "Azure",
  "description" : "Azure Resources Kibana Space",
  "initials": "AR"
  //can be more properties specified
}

//update space
PUT kbn:api/spaces/space/azure
{
"initials": "AR"
}

//create index
PUT /database


PUT _component_template/generic-settings
{
  "template": {
    "settings": {
      "index.number_of_shards": 1,
      "index.number_of_replicas": 1
    }
  },
  "_meta": {
    "description": "Generic settings"
  }
}

//create index template
POST _index_template/postgredb-logs-azure
{
  "index_patterns": ["database*"],
  "data_stream": { },
  "priority": 500,
  "composed_of": ["generic-settings", "logs-mapping"],
  "version":1,
  "_meta": {
    "description": "Logs custom index template"
  }
}

//

//create data view API (index_pattern 8.0.0 depreciated, data view comes instead)
POST kbn:api/data_views/data_view
{
  "data_view": {
    "title": "database*",
    "name": "Database logs data view",
    "namespaces": [
      "azure"
      ],
    "fields": {}
  }
}
